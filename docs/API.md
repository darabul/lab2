<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# payments

```go
import "github.com/darabul/payments/payments"
```

## Index

- [type Order](<#Order>)
  - [func NewOrder\(amount int\) \*Order](<#NewOrder>)
  - [func \(o \*Order\) IsValid\(\) bool](<#Order.IsValid>)
- [type PaymentService](<#PaymentService>)
  - [func NewPaymentService\(\) \*PaymentService](<#NewPaymentService>)
  - [func \(ps \*PaymentService\) CancelOrder\(order \*Order\) error](<#PaymentService.CancelOrder>)
  - [func \(ps \*PaymentService\) ProcessPayment\(order \*Order\) error](<#PaymentService.ProcessPayment>)


<a name="Order"></a>
## type Order

Order представляет заказ в системе оплаты.

```go
type Order struct {
    Amount int    // Сумма заказа в минимальных единицах валюты
    Status string // Текущий статус заказа
}
```

<a name="NewOrder"></a>
### func NewOrder

```go
func NewOrder(amount int) *Order
```

NewOrder создает и возвращает новый заказ с указанной суммой. Начальный статус заказа устанавливается в "created".

<a name="Order.IsValid"></a>
### func \(\*Order\) IsValid

```go
func (o *Order) IsValid() bool
```

IsValid проверяет корректность данных заказа. Возвращает true, если сумма заказа неотрицательна.

<a name="PaymentService"></a>
## type PaymentService

PaymentService предоставляет методы для работы с оплатами заказов.

```go
type PaymentService struct{}
```

<a name="NewPaymentService"></a>
### func NewPaymentService

```go
func NewPaymentService() *PaymentService
```

NewPaymentService создает и возвращает новый экземпляр PaymentService.

<a name="PaymentService.CancelOrder"></a>
### func \(\*PaymentService\) CancelOrder

```go
func (ps *PaymentService) CancelOrder(order *Order) error
```

CancelOrder отменяет заказ, если это возможно. Проверяет текущий статус заказа перед его отменой. Возвращает ошибку, если: \- заказ уже оплачен \(status == "paid"\) \- заказ уже отменен \(status == "cancelled"\) В случае успешной отмены возвращает nil и обновляет статус заказа на "cancelled".

<a name="PaymentService.ProcessPayment"></a>
### func \(\*PaymentService\) ProcessPayment

```go
func (ps *PaymentService) ProcessPayment(order *Order) error
```

ProcessPayment обрабатывает оплату заказа. Проверяет статус и валидность заказа, обновляет статус в соответствии с результатом. Возвращает ошибку, если: \- заказ уже оплачен \(status == "paid"\) \- заказ невалиден В случае успешной обработки возвращает nil.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
